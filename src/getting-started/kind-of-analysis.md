# 解析の種類

「解析をする」とひとくちにいっても，種類や手法，使うツールなどそれを構成する要素は様々です．
「アプリケーションの任意の挙動について調査したい」と考えた時に，それを調査するための適切な手法が存在します．
ここではそれぞれの解析手法について説明とともに，どの様なときにその手法を使うべきかを紹介します．

解析は，大きく分けて4つの種類があります．
「表層解析」「動的解析」「静的解析」そして「通信解析」です．
本項ではこれらについて説明していきます．(わかる方は読み飛ばして頂いて構いません)

### 表層解析

表層解析とは「アプリケーションの関連ファイルについて調査する」という方法です．
表層解析について一口に説明するのは難しいですが，アプリケーションがどのようなフレームワークを使っているか等の情報がここから得られることもあります．また，生成されたファイル等を調査し，ファイル名やファイルの内容を後述の解析方法の足がかりにします．

### 動的解析

動的解析とは「プログラムを実際に動かして，挙動を調査する」という方法です．
任意の挙動にどのような関数，メソッド，またはシステムコールが用いられているか調査する際に使用します．
また，関数の引数や返り値を動的に書き換えたり(フッキング)，メモリやレジスタの書き換えを行えたり，といったことも動的解析に含まれます．

### 静的解析

静的解析とは「プログラムのソースコードや，実行ファイル(バイナリ)自体を調査する」という方法です．
iOSアプリケーションにおいては，多くの場合で実行ファイルを読むことを意味します．「読む」といっても実行ファイルがソースコードそのままであるわけではありません．実行ファイルはバイナリファイルになっているため，ディスアセンブル(実行ファイルをアセンブリコードに戻す処理)したり，そこから更にデコンパイル(アセンブリコードから高級言語(C言語など)に近い形へ戻す処理)を行います．ほとんどの場合，ディスアセンブルやデコンパイルといったことはディスアセンブラと呼ばれるツールが自動的に行なってくれます．ただ，膨大なデコンパイル済みコードから任意の処理について読み解くのは大変な作業です．(ARMアセンブリについての理解や，場合により，Objective-CやSwift，或いはネイティブコードについて深い理解をしている必要があるかもしれないからです)

### 通信解析

通信解析とは「プログラムとサーバーとの通信を採取(これをキャプチャといいます)し，それについて調査する」方法です．
例えばTwitterやLINEといった多くのSNSアプリケーションでは，自分のプロフィール画像を変更する場合や名前を変更する際に，通信が発生しています．それをキャプチャしたり，或いは動的に通信データを書き換えたりすることでアプリケーションの挙動を調査します．プロキシツールを用いて，中間者攻撃(mitm，またはman-in-the-middle attack)という手法を使って行います．