# Machについて

Machはマイクロカーネルです．「まーく」と読みます．
マイクロカーネルというのは最小限の機能のみを搭載し，カーネル以外の部分で他の機能を実装するという設計方法です．
ここではMachの特有の機能や概念について説明します．

## 基本的な概念

Machはオブジェクト指向システムです．以下のような抽象概念があります．

- __task(タスク)__: 実行環境です．リソース割当の基本単位でもあります．ここでいうリソースとは，仮想アドレス空間やシステムリソース(仮想メモリや，ポートへのアクセス権(以下，port right))のことです．プロセスという概念は，Machではタスクによって表されます．
- __thread(スレッド)__: スレッドは実行の基本単位です．スレッド毎に独立した実行に必要なCPUの状態で構成されています．スレッドは単一のタスクの仮想メモリとport rightの下で実行されます．
- __message(メッセージ)__: メッセージは，スレッド間の通信に用いられる型付きデータオブジェクトの集合です．port rightはメッセージを用いて渡されます．
- __port(ポート)__: ポートは一方向通信チャネルです．カーネルに保護，管理されたメッセージキューとして実装されます．
- __port set(ポートセット)__: ポートセットはポートの集合です．ポートセットを構成するポートのメッセージキューを組み合わせたキューとして実装されます．スレッドはポートセットを使用してメッセージを受信できます．

- __memory object(メモリオブジェクト)__: メモリオブジェクトはタスクの仮想メモリにマップされる第2のストレージオブジェクトです．メモリオブジェクトは通常ファイルですが，Machに限れば，メモリオブジェクトはデータの読み取りと書き込みの要求を処理できる任意のオブジェクト(ポートなど)で実装できます．